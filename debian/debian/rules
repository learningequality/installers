#!/usr/bin/make -f

# This file was automatically generated by stdeb 0.8.5 at
# Mon, 15 Jun 2015 16:22:09 +0200

%:
	dh $@ --with python2 --buildsystem=python_distutils


override_dh_auto_clean:
	rm -rf ka_lite_static.egg-info
	python setup.py clean -a
	find . -name \*.pyc -exec rm {} \;



override_dh_auto_build:
	python setup.py build --force



override_dh_auto_install:
	# Build ka-lite
	python setup.py install --force --root=debian/ka-lite --no-compile -O0 --install-layout=deb  
	# Copy the ka-lite build to ka-lite-raspberry-pi instead of re-building
	cp -rup debian/ka-lite/usr debian/ka-lite-raspberry-pi/
	# Copy the ka-lite build to ka-lite-bundle instead of re-building
	cp -rup debian/ka-lite/usr debian/ka-lite-bundle/
	# Prepare assessment items
	bash -c debian/prepare_assessment_items.sh



# using dh-exec
# override_dh_install:
#	dh_install --fail-missing



# This is commented out because we depend on user input
# before actually installing
# override_dh_installinit:
# 	dh_installinit


override_dh_python2:
	dh_python2 --no-guessing-versions


